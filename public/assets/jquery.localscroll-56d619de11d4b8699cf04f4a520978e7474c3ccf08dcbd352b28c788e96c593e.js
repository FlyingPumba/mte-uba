!function(e){function t(t,n,i){var o=n.hash.slice(1),l=document.getElementById(o)||document.getElementsByName(o)[0];if(l){t&&t.preventDefault();var a=e(i.target||e.scrollTo.window());if(i.lock&&a.is(":animated")||i.onBefore&&i.onBefore.call(n,t,l,a)===!1)return;i.stop&&a.queue("fx",[]).stop(),a.scrollTo(l,i).trigger("notify.serialScroll",[l]),i.hash&&a.queue(function(){location=n.hash,e(this).dequeue()})}}var n=location.href.replace(/#.*/,""),i=e.localScroll=function(t){e("body").localScroll(t)};i.defaults={duration:1e3,axis:"y",event:"click",stop:!0},i.hash=function(n){n=e.extend({},i.defaults,n),n.hash=!1,location.hash&&setTimeout(function(){t(0,location,n)},0)},e.fn.localScroll=function(o){function l(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")==n&&(!o.filter||e(this).is(o.filter))}return o=e.extend({},i.defaults,o),o.persistent||o.lazy?this.bind(o.event,function(n){var i=e([n.target,n.target.parentNode]).filter(l)[0];i&&t(n,i,o)}):this.find("a,area").filter(l).bind(o.event,function(e){t(e,this,o)}).end().end()}}(jQuery);